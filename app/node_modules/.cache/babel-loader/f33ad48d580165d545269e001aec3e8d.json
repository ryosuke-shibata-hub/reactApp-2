{"ast":null,"code":"import _slicedToArray from \"/Users/shibataryosuke/reactApp-2/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nfunction usePersist(ky, initVal) {\n  var key = \"hooks:\" + ky;\n  var value = function value() {\n    try {\n      var item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initVal;\n    } catch (err) {\n      console.log(err);\n      return initVal;\n    }\n  };\n  var setValue = function setValue(val) {\n    try {\n      setSaved(val);\n      window.localStorage.setItem(key, JSON.stringify(val));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  var _useState = useState(value),\n    _useState2 = _slicedToArray(_useState, 2),\n    savedValue = _useState2[0],\n    setSavedValue = _useState2[1];\n  return [savedValue, setValue];\n}\nexport default usePersist;","map":{"version":3,"names":["React","useState","usePersist","ky","initVal","key","value","item","window","localStorage","getItem","JSON","parse","err","console","log","setValue","val","setSaved","setItem","stringify","savedValue","setSavedValue"],"sources":["/Users/shibataryosuke/reactApp-2/app/src/Persist.js"],"sourcesContent":["import React, { useState } from 'react'\n\nfunction usePersist(ky, initVal) {\n    const key = \"hooks:\" + ky\n    const value = () => {\n        try {\n            const item = window.localStorage.getItem(key)\n            return item ? JSON.parse(item) : initVal\n        } catch(err) {\n            console.log(err)\n            return initVal;\n        }\n    }\n\n    const setValue = (val) => {\n        try {\n            setSaved(val)\n            window.localStorage.setItem(key, JSON.stringify(val))\n        } catch(err) {\n            console.log(err)\n        }\n    }\n    const [savedValue, setSavedValue] = useState(value)\n    return [savedValue, setValue]\n}\n\nexport default usePersist\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,SAASC,UAAU,CAACC,EAAE,EAAEC,OAAO,EAAE;EAC7B,IAAMC,GAAG,GAAG,QAAQ,GAAGF,EAAE;EACzB,IAAMG,KAAK,GAAG,SAARA,KAAK,GAAS;IAChB,IAAI;MACA,IAAMC,IAAI,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC;MAC7C,OAAOE,IAAI,GAAGI,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,GAAGH,OAAO;IAC5C,CAAC,CAAC,OAAMS,GAAG,EAAE;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,OAAOT,OAAO;IAClB;EACJ,CAAC;EAED,IAAMY,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,GAAG,EAAK;IACtB,IAAI;MACAC,QAAQ,CAACD,GAAG,CAAC;MACbT,MAAM,CAACC,YAAY,CAACU,OAAO,CAACd,GAAG,EAAEM,IAAI,CAACS,SAAS,CAACH,GAAG,CAAC,CAAC;IACzD,CAAC,CAAC,OAAMJ,GAAG,EAAE;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB;EACJ,CAAC;EAAA,gBACmCZ,QAAQ,CAACK,KAAK,CAAC;IAAA;IAA5Ce,UAAU;IAAEC,aAAa;EAChC,OAAO,CAACD,UAAU,EAAEL,QAAQ,CAAC;AACjC;AAEA,eAAed,UAAU"},"metadata":{},"sourceType":"module"}